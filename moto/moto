#!/bin/bash

# https://github.com/icy/bash-coding-style#function-names

export COMOTO_CLI_DIR="$JJC_CONFIG_DIR/moto"

export PATH="$COMOTO_CLI_DIR/lib":$PATH

echo $JJC_CONFIG_DIR is the JJC_CONFIG_DIR

subcommands=$COMOTO_CLI_DIR/lib

_comoto_cli_app_name() {
  case $1 in
    cg) echo "cycle-gear-redline-webapp" ;;
    jp) echo  "jp-cycles-redline-webapp" ;;
    rz) echo   "revzilla-redline-webapp" ;;
    *) return 1
  esac
  return 0
}
export -f _comoto_cli_app_name

_parse_params() {
  flag=0
  param=''

  while :; do
    case "${1-}" in
    -h | --help) usage ;;
    logs)
      echo $PATH | grep dot
      echo "called moto logs!"
      shift
      $subcommands/logs $@
      exit $?;;
    # -v | --verbose) set -x ;;
    # --no-color) NO_COLOR=1 ;;
    # -f | --flag) flag=1 ;; # example flag
    # -p | --param) # example named parameter
    #   param="${2-}"
    #   shift
    #   ;;
    -?*) die "Unknown option: $1" ;;
    *) break ;;
    esac
    shift
  done

  args=("$@")

  # check required params and arguments
  # [[ -z "${param-}" ]] && die "Missing required parameter: param"
  # [[ ${#args[@]} -eq 0 ]] && die "Missing script arguments"

  return 0
}

echo "successfully called moto!"

_parse_params "$@"

exit 0
